)),
regexp=NA
)
fit_brm
pp_check(fit_brm)
fit_brm <- expect_error (
suppressWarnings(bison_brm(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim),
num_draws=5,
silent=2,
refresh=0,
sample_priors="only"
)),
regexp=NA
)
fit_brm <- expect_error (
suppressWarnings(bison_brm(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim),
num_draws=5,
silent=2,
refresh=0,
sample_prior="only"
)),
regexp=NA
)
brms::get_prior(age_diff ~ bison_edge_weight)
pp_check(fit_brm)
pp_check(fit_brm)
pp_check(fit_brm)
fit_brm <- expect_error (
suppressWarnings(bison_brm(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim),
num_draws=5,
silent=2,
refresh=0
)),
regexp=NA
)
pp_check(fit_brm)
?brms::get_prior
mids <- bison_mice(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim),
num_draws=5,
silent=2,
refresh=0
)
?bison_mids
?bison_mice
mids <- bison_brm_get_prior(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim),
num_draws=5,
)
devtools::load_all(".")
mids <- bison_brm_get_prior(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim),
num_draws=5,
)
mids <- bison_brm_get_prior(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim)
)
devtools::load_all(".")
mids <- bison_brm_get_prior(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim)
)
mids
fit$prior_()
mids$data
mids$iteration
complete(mids)
mice::complete(mids)
mice::complete(mids)
mice::complete(mids)
mice::complete(mids)
mice::complete(mids)
?complete
mice::complete(mids, action=2)
mice::complete(mids, action=1)
mice::complete(mids, action=2)
mice::complete(mids, action=2L)
mice::complete(mids, action=1L)
mice::complete(mids, action="all")
mice::complete(mids)
brms::get_prior()
?brms::get_prior
devtools::load_all(".")
devtools::load_all(".")
bison_brm_get_prior(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim)
)
devtools::load_all(".")
bison_brm_get_prior(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim)
)
priors <- bison_brm_get_prior(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim)
)
priors + brms::prior(normal(0, 10), class="b")
brms::prior(normal(0, 10), class="b")
priors
priors <- brms::prior(normal(0, 10), class="b")
fit_brm <- expect_error (
suppressWarnings(bison_brm(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim),
num_draws=5,
silent=2,
refresh=0,
prior=priors
)),
regexp=NA
)
fit_brm <- expect_error (
suppressWarnings(bison_brm(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim),
num_draws=5,
silent=2,
refresh=0,
prior=priors,
sample_prior="only"
)),
regexp=NA
)
pp_check(fit_brm)
bison_brm_get_prior(
age_diff ~ bison(edge_weight(node_1_id, node_2_id)),
list(fit_edge, fit_edge),
list(df_sim, df_sim)
)
devtools::load_all(".")
devtools::document()
devtools::test_active_file()
devtools::test_active_file()
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
rstan:::rstudio_stanc("inst/stan/duration.stan")
data.frame(x=rep(0, 10), y=rep(1, 10), z=rep(2, 10))
dplyr::pull(data.frame(x=rep(0, 10), y=rep(1, 10), z=rep(2, 10)), 3)
dplyr::pull(data.frame(x=rep(0, 10), y=rep(1, 10), z=rep(2, 10)), 2)
usethis::use_test("duration")
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
sim_data
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
data_type="duration",
duration_data=duration_data
)
devtools::load_all(".")
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
data_type="duration",
duration_data=duration_data
)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data
)
df
df
devtools::load_all(".")
devtools::load_all(".")
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data
)
devtools::load_all(".")
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data
)
devtools::load_all(".")
devtools::load_all(".")
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data
)
fit_bison
plot_predictions(fit_bison)
devtools::load_all(".")
plot_predictions(fit_bison)
priors <- get_default_priors("duration")
priors
priors <- get_default_priors("duration")
priors$rate <- "half-normal(0.1)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
priors <- get_default_priors("duration")
priors$rate <- "half-normal(2)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
priors
duration_data
df
priors <- get_default_priors("duration")
priors$rate <- "half-normal(10)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
priors <- get_default_priors("duration")
priors$rate <- "half-normal(10)"
priors$edge <- "normal(0, 10)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
df
fit_bison$fit
fit_bison$fit$draws("rate")
fit_bison$fit$summary("rate")
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors,
priors_only=TRUE
)
plot_predictions(fit_bison)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
priors$edge <- "normal(0, 1)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors,
priors_only=TRUE
)
plot_predictions(fit_bison)
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
priors$edge <- "normal(-1, 1)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors,
priors_only=TRUE
)
plot_predictions(fit_bison)
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
priors$edge <- "normal(-2, 1)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors,
priors_only=TRUE
)
plot_predictions(fit_bison)
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
priors$edge <- "normal(-3, 1.5)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors,
priors_only=TRUE
)
plot_predictions(fit_bison)
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
priors$edge <- "normal(-3, 1.5)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
df
duration_data
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
duration_data
df
devtools::load_all(".")
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
df
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
df
devtools::load_all(".")
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
df
duration_data
devtools::load_all(".")
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
df
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
priors$edge <- "normal(-3, 1.5)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
priors$edge <- "normal(-3, 1.5)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
priors$edge <- "normal(-3, 1.5)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
priors$edge <- "normal(-3, 1.5)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
df <- sim_data$df
duration_data <- sim_data$df_agg
priors <- get_default_priors("duration")
priors$rate <- "half-normal(1)"
fit_bison <- bison_model(
(event | duration) ~ dyad(node_1_id, node_2_id),
data=df,
model_type="duration",
duration_data=duration_data,
priors=priors
)
plot_predictions(fit_bison)
plot_predictions(fit_bison, type="density")
plot_predictions(fit_bison, type="point")
devtools::load_all(".")
install.packages("tidyverse")
devtools::load_all(".")
rlang::last_error()
sim_data <- simulate_bison_model("duration", aggregated = TRUE, location_effect = FALSE, age_diff_effect = FALSE)
devtools::load_all(".")
tidyverse::
