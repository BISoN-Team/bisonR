---
title: "Running a dyadic regression"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{dyadic_regression}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(bisonR)
library(dplyr)
```

```{r}
data("binary_ex1")
df <- binary_ex1
head(df)
```

```{r}
df_reg <- df %>%
  mutate(dyad_type=as.factor(paste(type_1, type_2, sep="-"))) %>%
  distinct(node_1, node_2, dyad_type)
df_reg

df_reg$relatedness <- as.factor(sample(1:3, 28, replace=TRUE))
df_reg
```
```{r}
fit_dyad <- dyadic_regression(dyad(node_1, node_2) ~ dyad_type, fit_edge, df_reg, mm=FALSE)
```

```{r}
summary(fit_dyad)
```
```{r}
plot_trace(fit_dyad)
```

```{r}
plot_predictions(fit_dyad, num_draws=20)
```
